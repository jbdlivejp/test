package com.internousdev.ecsite3.action;

import com.internousdev.ecsite3.dao.ItemDetailDAO;
import com.internousdev.ecsite3.dto.BuyItemDTO;
import com.internousdev.ecsite3.dto.ItemDetailDTO;
import com.internousdev.ecsite3.dto.LoginDTO;
import com.opensymphony.xwork2.ActionSupport;

public class ItemDetailAction extends ActionSupport{

	private ItemDetailDAO itemDetailDAO = new ItemDetailDAO();
	private ItemDetailDTO itemDetailDTO = new ItemDetailDTO();

	public String execute(){

	String result = ERROR;

	itemDetailDTO = itemDetailDAO.getItemDetailInfo();
	session.put("loginUser", itemDetailDTO);

	if(((ItemDetailDTO)session.get("loginUser")).getLoginFlg()){
		result = SUCCESS;

		session.put("login_user_id",loginDTO.getLoginId());
		session.put("id",itemDetailDTO.getId());
		session.put("buyItem_name",buyItemDTO.getItemName());
		session.put("buyItem_price",buyItemDTO.getItemPrice());

		return result;

	}
	return result;
}
